# dekorate-challenge

The main goal will be for you to deploy a Spring Boot Application in OpenShift using Dekorate for generating and customizing its OpenShift manifests.
The purpose of this challenge is to demonstrate the following:

- How you can use the openshift-spring-starter which contains all the required modules, including the annotation processors that detect spring web applications.
- How Dekorate detects that this is a web app and automatically configures services and probe.
- How you can trigger a docker build after the compilation.

If you have never used Dekorate before, I recommend checking the [Dekorate github repository](https://github.com/dekorateio/dekorate#readme) where you will find a complete documentation of the project with plenty of [examples](https://github.com/dekorateio/dekorate/tree/master/examples). 
There also are a couple of very useful blog posts to have a global vision about how to use Dekorate:
- [Dekorate for creating K8s manifests](https://developers.redhat.com/blog/2019/08/15/how-to-use-dekorate-to-create-kubernetes-manifests)
- [Dekorate for frameworkless applications](https://developers.redhat.com/blog/2021/03/17/using-dekorate-to-generate-kubernetes-manifests-for-java-applications)

As this exercise is focused on the deployment of a simple Spring Boot Microservice Application, you are provided with the code for the  application. It is a minimal Hello World application based on Spring Boot. The code is available on the `src` folder of this repo.
Navigate to the directory and build the project by running the following command:
```
mvn install
```
You can launch the application by running `mvn spring-boot:run` or `java -jar ./target/dekorate-challenge-0.0.1-SNAPSHOT.jar`.
Then, open a browser to [http://localhost:8080/greeting](http://localhost:8080/greeting) and verify that the `Hello world` message is shown. Now you are set for starting to use Dekorate.

Once you have done the needed actions to enable and configure Dekorate, the OpenShift manifests are available in the `target/classes/META-INF/dekorate` directory. As mentioned in the different documentation resources, it is generated at every `mvn compile` launching.

This challenge comes with 1 bonus track where you will learn how to configure the image build strategy that OpenShift will use. Dekorate currently supports Docker and Jib as image build strategies, feel free to choose one of them to complete this part.

Remember to deploy the application on the OpenShift cluster using the manifests generated by Dekorate. 
As you have certainly learnt, the manifests have been generated in the `target/classes/META-INF/dekorate` directory. 
We will provide you with a couple of `oc` commands to do it but you can also use the hooks provided by Dekorate ;-)

As deliverables, we would like to have the url of the Spring Boot Application deployed on OpenShift and a github repository containing the code that you should have modified to generate/customize the OpenShift manifests.

I will be joinable during the Developer Games to resolve any doubts or questions you may have.
Happy Developer Games!
